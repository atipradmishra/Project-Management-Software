{% extends "myAPP/base-report.html" %}

{% block content %}
<head>
    <title>Reporting</title>
</head>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <style>
		body {
			font-family: Arial, sans-serif;
			margin: 0;
			padding: 0;
		}
		
		.month-list {
			display: flex;
			flex-direction: row;
			justify-content: center;
			align-items: center;
			margin-top: 20px;
		}
		
		.month-list button {
			font-size: 16px;
			font-weight: bold;
			padding: 10px;
			margin-right: 10px;
			background-color: #f2f2f2;
			border: none;
			border-radius: 5px;
			cursor: pointer;
		}
		
		.month-list button:hover {
			background-color: #e6e6e6;
		}
		
		.month-list button.selected {
			background-color: #4CAF50;
			color: white;
		}
		
		.data {
			margin-top: 20px;
			padding: 20px;
			background-color: #f2f2f2;
		}
		
		.data h2 {
			font-size: 24px;
			font-weight: bold;
			margin: 0 0 10px;
		}
		
		.data p {
			font-size: 16px;
			margin: 0 0 10px;
		}
		#customers {
			font-family: Arial, Helvetica, sans-serif;
			border-collapse: collapse;
			width: 100%;
		  }
		
		  #customers td, #customers th {
			border: 1px solid #ddd;
			padding: 8px;
		  }
		
		  #customers tr:nth-child(even){background-color: #f2f2f2;}
		
		  #customers tr:hover {background-color: #ddd;}
		
		  #customers th {
			padding-top: 12px;
			padding-bottom: 12px;
			text-align: left;
			background-color: #f4b083;
			color: black;
		  }
		  .image{
        border-radius: 8px;
        width: 150px;
        float:right;
        margin-right: 20px;
        margin-top: 50px;
		  }
          .button {
            border-radius: 4px;
            background-color: #6699ff;
            border: none;
            color: #FFFFFF;
            text-align: center;
            font-size: 20px;
            width: 80%;
            height: 50px;
            transition: all 0.5s;
            cursor: pointer;
            margin: 30px;
            position: sticky;
          }
          
          .button span {
            cursor: pointer;
            display: inline-block;
            position: relative;
            transition: 0.5s;
          }
          
          .button span:after {
            content: '\002B';
            font-size: 50px;
            position: absolute;
            opacity: 0;
            top: -22px;
            left: 160px;
            right: -100px;
            transition: 0.5s;
          }
          
          .button:hover span {
            padding-right: 25px;
          }
          
          .button:hover span:after {
            opacity: 1;
            right: 0;
          }
  </style>
  <body style='background-color: white'>
    <div style='float:left;margin-left: 35%;'>
      <h2 style="text-align:center;"><u>Monthly Project Reporting</u>({{month| date:"F"}})</h2>
    </div>
    <form method="POST">
        {% csrf_token %}
        <table id="customers">
        <thead>
            <tr>
            <th style="font-size:13px">Sl. No.</th>
            <th style="width:5%;text-align:center;font-size:15px">Component/ strategy</th>
            <th style="width:5%;text-align:center;font-size:15px">Activities</th>
            <th style="width:5%;text-align:center;font-size:15px">Date/ Duration</th>
            <th style="width:5%;text-align:center;font-size:15px">Number of Participants</th>
            <th style="width:5%;text-align:center;font-size:15px">Location</th>
            <th style="width:5%;text-align:center;font-size:15px">Main Responsibility</th>
            <th style="width:5%;text-align:center;font-size:15px">Supportive Responsibility</th>
            <th style="width:5%;text-align:center;font-size:15px">Expected Out come</th>
            <th style="width:20%;text-align:center;font-size:15px">Achievements</th>
            <th style="width:15%;text-align:center;font-size:15px">Major Highlights of the month(not necessarily as per the planned activities)</th>
            <th style="width:15%;text-align:center;font-size:15px">If not completed (Justification)</th>
            <th style="text-align:center;font-size:15px" class='no-print'>Approve<input type="checkbox" id="select-all-checkboxs"></th>
            <th style="text-align:center;font-size:15px"class='no-print'>Remarks if any</th>
            </tr>
        </thead>
        <tbody>
            {% for x in Plans %}
            {% if x.is_report_submited == 1 or x.is_report_rejected == 1 %}
            <tr>
            <td>{{ forloop.counter }}</td>
            <td style="text-align:center;">{{ x.strategy }}</td>
            <td style="text-align:center;">{{ x.activity_id.activity_name }}</td>
            <td style="text-align:center;">{{ x.duration }}</td>
            <td style="text-align:center;">{{ x.no_Of_Participants }}</td>
            <td style="text-align:center;">{{ x.location_Of_Activity }}</td>
            <td style="text-align:center;">{{ x.main_Responsibility }}</td>
            <td style="text-align:center;">{{ x.supportive_Responsibility }}</td>
            <td style="text-align:center;">{{ x.result_Expected }}</td>
            {% if x.achievements %}
            <td style="text-align:center;">{{ x.achievements }}</td>
            {% else %}
            <td style="text-align:center;">No Data</td>
            {% endif %}
            {% if x.highlights %}
            <td style="text-align:center;">{{ x.highlights }}</td>
            {% else %}
            <td style="text-align:center;">No Data</td>
            {% endif %}
            {% if x.backlog_justification %}
            <td style="text-align:center;">{{ x.backlog_justification }}</td>
            {% else %}
            <td style="text-align:center;">No Data</td>
            {% endif %}
            {% if x.is_report_approved == 1 and x.is_report_rejected == 0 %}
            <td style="color:Green;text-align:center;"><i class="fa-solid fa-check"></i>Approved</td>
            {% elif x.is_report_approved == 0 and x.is_report_rejected == 1 %}
            <td style="color:red;text-align:center;"><i class="fa-solid fa-xmark"></i>Rejected</td>
            {% else %}
            <td style="text-align:center">
            <input type="checkbox" name="selected_activities" value="{{ x.id }}">
            </td>
            {% endif %}
            <td onclick="window.location='{% url 'myAPP:ceo_report_remark' x.id %}';" style="color:red;cursor: pointer;">&#10010; Add Remarks</td>
            </tr>
            {% endif %}
            {% endfor %}
        </tbody>
        </table>
        <button type="submit" class="button" style="background-color: #33cc33; float:right;width:15%;" name="form1_submit">Approve</button>
    </form>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js" ></script>
    <script type="text/javascript">
        var selectAllCheckboxs= document.getElementById("select-all-checkboxs");
        selectAllCheckboxs.addEventListener("click", selectAllCheckboxClicked);
    
        // Function to handle the "Select All" checkbox
        function selectAllCheckboxClicked() {
        var checkboxes = document.querySelectorAll("input[type='checkbox']:not(#select-all-checkboxs)");
    
        for (var i = 0; i < checkboxes.length; i++) {
            checkboxes[i].checked = selectAllCheckboxs.checked;
        }
        }
    </script>
  </body>
{% endblock %}